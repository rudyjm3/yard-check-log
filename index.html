<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Equip Flow</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Stylesheet -->
  <link rel="stylesheet" href="assets/css/style.css?v=1.3">
  <!-- Font Awesome 6.5.2 -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />

  <script src="assets/js/app.js" defer></script>
  <!-- CDN for SortableJS -->
  <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>


</head>
<body>   
   
   <header>
      <div class="logo-container">
         <img src="assets\images\logo\equipflow-logo-full_b.svg" alt="Logo and tagline" class="logo-image">
      </div>
      <!-- <div class="page-title">
         <h1>EquipFlow</h1>
      </div> -->
   </header>

   <div id="overlay">
  <!-- <div id="text">Overlay Text</div> -->
   </div>
   <section id="main-content-section">
      <!-- Side Menu Start -->
      <nav id="side-nav-container" class="side-nav-container-collapsed glassmorphism-black">
         <button id="menu-collapse-btn" onclick="sideMenuCollapse()">
            <span class="menu-collapse-icon"><i class="fa-solid fa-ellipsis-vertical"></i></span>
         </button>

         <ul class="side-menu">
            <li class="side-menu-item" onclick="showDashboard()">
            <span class="side-menu-item-icon-wrapper" data-tooltip="Dashboard">
               <i class="fa-solid fa-house"></i>
            </span>
            <p class="side-menu-txt">Dashboard</p>
            </li>
            <li class="side-menu-item" onclick="showYardCheckForm()">
               <span class="side-menu-item-icon-wrapper" data-tooltip="Yard Check">
                  <i class="fa-solid fa-clipboard-check"></i>
               </span>
               <p class="side-menu-txt">Yard Check</p>
            </li>
            <li class="side-menu-item" onclick="showSubmittedYardChecks()">
               <span class="side-menu-item-icon-wrapper" data-tooltip="View Submitted Yard Checks">
                  <i class="fa-regular fa-calendar-check"></i>
               </span>
               <p class="side-menu-txt">View Submitted Yard Checks</p>
            </li>
            <li class="side-menu-item" onclick="showEquipmentStats()">
               <span class="side-menu-item-icon-wrapper" data-tooltip="Large Equipment Stats">
                  <i class="fa-solid fa-chart-bar"></i>
               </span>
               <p class="side-menu-txt">Large Equipment Stats</p>
            </li>
            <li class="side-menu-item" onclick="showPickupTruckInspectionForm()">  
               <span class="side-menu-item-icon-wrapper" data-tooltip="Inspection Forms">
                  <i class="fa-solid fa-clipboard-list"></i>
               </span>
               <p class="side-menu-txt">Inspection Forms</p>
            </li>

            <li class="side-menu-item" onclick="showEquipmentManagement()">
               <span class="side-menu-item-icon-wrapper" data-tooltip="Manage Assets">
                  <i class="fa-solid fa-gear"></i>
               </span>
               <p class="side-menu-txt">Manage Assets</p>
            </li>
         </ul>
      </nav>
    <!-- Side Menu End -->

    <!-- Container that holds all of the different content containers related to menu items-->
      <main id="main-content-container">
         <!-- Dashboard Section -->
         <div id="dashboard-container" class="content-section-container">
            <section id="dashboard-header-container">
               <div class="title-wrapper">
                  <h2>Dash Board</h2> 
               </div> 
            </section>

            <section id="dashboard-weather-container" class="glassmorphism-black">
               <div id="weather-header-wrapper">
                  <p class="weather-title">Current Weather - <span class="current-weather-date-txt">April, Monday 21st, 2025</span></p>
               </div>

               <div class="weather-days-container">
                  <!-- Current Weather Card -->
                  <div class="current-weather-card glassmorphism-white">
                     <p class="current-day">Today</p>
                     <div class="weather-info-wrapper">
                        <div class="weather-icon-wrapper">
                           <img src="" alt="Weather Icon" class="weather-icon">
                           <p class="current-temp"></p>
                           <p class="weather-description"></p>
                        </div>
                        
                        <div class="weather-temp-wrapper">
                        
                           <p class="current-hi-txt">High: <span class="current-hi-temp">75°F</span></p>
                           <p class="current-lo-txt">Low: <span class="current-lo-temp">65°F</span></p>
                        </div>
                        <p class="weather-summary"></p>
                     </div>
                  </div>
                  <!-- Upcoming Weather Days -->
                  <div class="weather-days-wrapper">
                     <!-- JavaScript will dynamically populate these -->
                  </div>
               </div>
            </section>

            <section id="alerts-container" class="glassmorphism-black">
               <div class="alerts-header-wrapper">
                  <h3>Alerts</h3> 
               </div>
               <div class="alerts-card-wrapper">
                  <div class="alert-card">
                     <p class="alert-title">Penske Hiker</p>
                     <p class="alert-description">There are <span>3</span> Penske hiker submissions to confirm.</p>
                  </div>
                  <div class="alert-card">
                     <p class="alert-title">Maintenance Alert</p>
                     <p class="alert-description">Monthly Pickup Maintenance Inspection Due</p>
                  </div>
                  <div class="alert-card">
                     <p class="alert-title">Rental Markdown</p>
                     <p class="alert-description">There are <span>5</span> markdown submissions to review.</p>
                  </div>
                  <div class="alert-card">
                     <p class="alert-title">Yard Checks</p>
                     <p class="alert-description">There are <span>2</span> missing yard check submissions.</p> 
                     <div class="alert-button-wrapper">
                        <button class="alert-btn-yardcheck" onclick="showSubmittedYardChecks()">View submitted yardchecks</button>
                     </div>
                  </div>

               </div>

            </section>

            <section id="main-dashboard-content-container" class="glassmorphism-black">
               <div class="dashboard-col-1-wrapper">
                  <div class="btn-wrapper">
                     <button onclick="showYardCheckForm()">Start a Yardcheck</button>
                     <button onclick="showSubmittedYardChecks()">Edit a Yardcheck</button>
                  </div>
                  <div class="btn-wrapper" style="display: none;">
                     <button>Associate confirm Penske Check-in/out</button
                     <button>Penske Hiker Check-in</button>
                     <button>Associate confirm Penske Check-in/out</button>   
                  </div>     
               </div>

               <!-- <div class="dashboard-col-2-wrapper">
                  <h3>Popular LE This Week</h3>
                  <div class="popular-le-card-wrapper">
                     <div class="popular-le-card">
                        <div class="le-img-wrapper">
                           <img src="" alt="">
                        </div>
                        <div class="le-info-wrapper">
                           <p class="le-name">LE Name</p>
                           <p class="le-days-rented">6</p>
                        </div>
                     </div>
                     <div class="popular-le-card">
                        <div class="le-img-wrapper">
                           <img src="" alt="">
                        </div>
                        <div class="le-info-wrapper">
                           <p class="le-name">LE Name</p>
                           <p class="le-days-rented">6</p>
                        </div>
                     </div>
                     <div class="popular-le-card">
                        <div class="le-img-wrapper">
                           <img src="" alt="">
                        </div>
                        <div class="le-info-wrapper">
                           <p class="le-name">LE Name</p>
                           <p class="le-days-rented">6</p>
                        </div>
                     </div>
                  </div>
               </div> -->
            </section>
            <!-- End Main Dashboard Section -->     
         </div>   
         <!-- End Dashboard Section -->

         <!-- Yard Check Form -->
         <form id="lg-equipment-yard-check-form" class="content-section-container" style="display: none;">
         <div class="form-title-wrapper">
            <h1 class="yard-check-form-title">Large Equipment Yard Check Form</h1>
            <p class="date-time-title" id="current-date"></p>
         </div>
         <div class="form-wrapper">
            <!-- Date Input -->
            <div class="form-control">
               <label for="check-date">Date:</label>
               <input type="date" id="check-date" name="check_date" required>
            </div>
            <!-- User Name Input -->
            <div class="form-control">
               <label for="user-name">Your Name:</label>
               <input type="text" id="user-name" name="user_name" required>
            </div>
            <!-- AM/PM Selection -->
            <div class="form-control">
               <label for="check-time">Check Time:</label>
               <select id="check-time" name="check_time" required>
               <option value="" disabled selected>Select Time</option>
               <option value="AM">AM (Morning)</option>
               <option value="PM">PM (Evening)</option>
               </select>
            </div>
            <!-- Equipment List -->
            <div class="equipment-list" id="equipment-list">
               <!-- Equipment items will be dynamically inserted here -->
            </div>
            <!-- Hidden Input for Submission DateTime -->
            <input type="hidden" id="submission-date-time" name="submission_date_time">
            <input type="hidden" id="yard-check-id" name="yard_check_id">

            <!-- Message Container -->
            <div id="message-container"></div>
         </div>
         <div class="button-wrapper">
            <button type="submit" id="submit-button-ydchk">Submit</button>
         </div>
         </form>
         <!-- End Yard Check Form -->

         <!-- Submitted Yard Checks Section -->
         <div id="submitted-yard-checks" class="content-section-container" style="display: none;">
            <h2>Submitted Yard Checks</h2>
         <!-- <button onclick="showAddYardCheckForm()">Add Yard Check</button> -->
            <!-- FILTER UI -->
            <div class="date-filter-section">
               <div class="form-control">
                  <label for="filter-start-date">Start Date: </label>
                  <input type="date" id="filter-start-date">
               </div>
               <div class="form-control">
                  <label for="filter-end-date">End Date: </label>
                  <input type="date" id="filter-end-date">
               </div>
               
               <button id="date-range-filter-btn" onclick="filterSubmittedYardChecks()">Filter</button>
            </div> 

            <!-- date-filter-section -->
            <div class="pagination-wrapper">
               <div class="week-range-bar">
                  <div id="yard-checks-week-range" class="week-range-label"></div>
                  <button onclick="showPreviousWeek()">Previous Week</button>
                  
                  <button onclick="showNextWeek()">Next Week</button>
                  <div id="week-range-print-wrapper" class="week-print-actions"></div>
               </div>
            </div> 

            
            <div id="yard-checks-list">
               <!-- Yard check cards will be dynamically inserted here -->
            </div>
         </div>
         <!-- End Submitted Yard Checks Section -->

         <!-- Equipment Stats Section -->
         <div id="equipment-stats" class="content-section-container" style="display: none;">
         <h2>Large Equipment Stats</h2>
         <!-- Date Range Selection -->
         <div class="stats-filters">
            <div class="stats-filter-field">
               <label for="stats-date-range">Select Date Range:</label>
               <select id="stats-date-range" onchange="loadEquipmentStats()">
                  <option value="weekly">This Week</option>
                  <option value="monthly">This Month</option>
                  <option value="custom">Custom Range</option>
               </select>
            </div>
            <div class="stats-filter-field">
               <label for="stats-count">Items Per List:</label>
               <select id="stats-count" onchange="loadEquipmentStats()">
                  <option value="3">3 per list</option>
                  <option value="4">4 per list</option>
                  <option value="5" selected>5 per list</option>
                  <option value="6">6 per list</option>
                  <option value="7">7 per list</option>
                  <option value="8">8 per list</option>
                  <option value="9">9 per list</option>
                  <option value="10">10 per list</option>
               </select>
            </div>
         </div>
         <!-- Custom Date Range Inputs -->
         <div id="custom-date-range-wrapper" class="stats-custom-range" style="display: none;">
            <div class="stats-filter-field">
               <label for="start-date">Start Date:</label>
               <input type="date" id="start-date">
            </div>
            <div class="stats-filter-field">
               <label for="end-date">End Date:</label>
               <input type="date" id="end-date">
            </div>
            <button id="eq-stats-filter-btn" onclick="loadEquipmentStats()">Load Stats</button>
         </div>
         <!-- Stats Display -->
         <div id="stats-display">
            <!-- Stats will be dynamically inserted here -->
         </div>
         <!-- Export Options -->
         <div class="button-wrapper">
            <button onclick="exportReport('pdf')">Export as PDF</button>
            <button onclick="exportReport('csv')">Export as CSV</button>
            <button onclick="window.print()">Print Report</button>
         </div>
         </div>
         <!-- End Equipment Stats Section -->

         <!-- Pickup Truck Monthly Inspection Forms Section -->
         <div id="pickup-truck-inspection" class="content-section-container" style="display: none;">
            <h2>Monthly Inspection Forms</h2>
            <p class="inspection-lede">Stay on top of monthly truck inspections by choosing the checklist that matches your vehicle. Review the latest submissions below or jump straight into a new inspection.</p>
            <div class="button-wrapper inspection-toggle-buttons">
               <button type="button" class="inspection-toggle-btn" data-inspection-target="pro">Start Load N Go Inspection</button>
               <button type="button" class="inspection-toggle-btn" data-inspection-target="rental">Start Rental Pickup Inspection</button>
            </div>

            <div class="inspection-history">
               <div class="inspection-history-header">
                  <h3>Recent Inspection Submissions</h3>
                  <p>Check the latest inspections, expand comments for more context, or reopen a form to make updates.</p>
               </div>
               <div class="inspection-history-controls">
                  <label for="inspection-filter-form-type">
                     Form type
                     <select id="inspection-filter-form-type">
                        <option value="all">All forms</option>
                        <option value="pro">Load N Go</option>
                        <option value="rental">Rental Pickup</option>
                     </select>
                  </label>
                  <label for="inspection-filter-search">
                     Search
                     <input type="search" id="inspection-filter-search" placeholder="Search inspector or comments">
                  </label>
               </div>
               <div id="inspection-history-list" class="inspection-history-list">
                  <p class="inspection-history-empty">No inspections have been submitted yet. Completed inspections will appear here.</p>
               </div>
               <div class="inspection-history-pagination">
                  <div class="inspection-history-pagination-buttons">
                     <button type="button" class="inspection-history-page-btn" data-action="prev-page" disabled>Previous</button>
                     <button type="button" class="inspection-history-page-btn" data-action="next-page" disabled>Next</button>
                  </div>
                  <span id="inspection-pagination-status" class="inspection-history-page-status">Page 1 of 1</span>
               </div>
            </div>
            <!-- Pro Truck Monthly Inspection Form -->
            <div id="pro-inspection-modal" class="inspection-form-modal hidden" data-form-type="pro">
               <div class="inspection-form-modal-dialog">
                  <button type="button" class="inspection-form-close" data-action="close-modal" aria-label="Close inspection form">&times;</button>
                  <form id="pro-truck-inspection-form" class="inspection-form" data-form-type="pro">
                     <div class="form-title-wrapper">
                        <h2>Load N Go Monthly Inspection Checklist</h2>
                     </div>
                     
                     <fieldset>
                        <legend>Inspection Info</legend>
                        <div class="form-control">
                           <label for="pro-inspection-date">Date:</label>
                           <input type="date" id="pro-inspection-date" name="inspection_date" required data-default-today="true">
                        </div>
                        <div class="form-control">
                           <label for="pro-inspected-by">Inspected by:</label>
                           <input type="text" id="pro-inspected-by" name="inspected_by" required>
                        </div>
                     </fieldset>
                  
                     <fieldset>
                        <legend>Truck Fluids</legend>
                        <div class="checkbox-group">
                           <div>
                           <label for="pro-fluids-topped">All fluids are topped off</label>
                           <input type="checkbox" id="pro-fluids-topped" name="truck_fluids[]" value="all_fluids_topped" required>
                           </div>
                        </div>
                     </fieldset>
                  
                     <fieldset>
                        <legend>Truck Exterior</legend>
                        <div class="checkbox-group">
                           <div>
                           <label for="pro-ext-license-plate">License plate present with up-to-date sticker</label>
                           <input type="checkbox" id="pro-ext-license-plate" name="truck_exterior[]" value="license_plate_present" required>
                           </div>
                           <div>
                           <label for="pro-ext-damage">Damage to the vehicle</label>
                           <input type="checkbox" id="pro-ext-damage" name="truck_exterior[]" value="damage_to_vehicle" required>
                           </div>
                           <div>
                           <label for="pro-ext-tires">Tires for appropriate inflation, tread wear and cuts</label>
                           <input type="checkbox" id="pro-ext-tires" name="truck_exterior[]" value="tires_inflation_and_wear" required>
                           </div>
                           <div>
                           <label for="pro-ext-lights">Headlights, tail lights and turn signals for cracked lens and operation</label>
                           <input type="checkbox" id="pro-ext-lights" name="truck_exterior[]" value="lights_operation_and_lens" required>
                           </div>
                           <div>
                           <label for="pro-ext-glass">Glass and mirrors for cracks and operation</label>
                           <input type="checkbox" id="pro-ext-glass" name="truck_exterior[]" value="glass_and_mirrors" required>
                           </div>
                           <div>
                           <label for="pro-ext-wipers">Windshield wipers for operation and wear</label>
                           <input type="checkbox" id="pro-ext-wipers" name="truck_exterior[]" value="wipers_operation_and_wear" required>
                           </div>
                           <div>
                           <label for="pro-ext-bed">Truck bed sides and tail gate for operation and broken hinges</label>
                           <input type="checkbox" id="pro-ext-bed" name="truck_exterior[]" value="bed_and_tailgate" required>
                           </div>
                           <div>
                           <label for="pro-ext-load-sensor">
                              Check Load Sensor (inspect &amp; activate; see REN10-10 SOP page 21 or calibration guide)
                           </label>
                           <input type="checkbox" id="pro-ext-load-sensor" name="truck_exterior[]" value="load_sensor_checked" required>
                           </div>
                           <div>
                           <label for="pro-ext-decals">Decals are present and in good condition</label>
                           <input type="checkbox" id="pro-ext-decals" name="truck_exterior[]" value="decals_condition" required>
                           </div>
                           <div>
                           <label for="pro-ext-tow-hitch">Ensure tow hitch has a weld or is locked (2015+ models)</label>
                           <input type="checkbox" id="pro-ext-tow-hitch" name="truck_exterior[]" value="tow_hitch_locked_or_welded" required>
                           </div>
                        </div>
                     </fieldset>
                  
                     <fieldset>
                        <legend>Truck Interior</legend>
                        <div class="checkbox-group">
                           <div>
                           <label for="pro-int-seatbelts">Seatbelts for operation, cuts or frays</label>
                           <input type="checkbox" id="pro-int-seatbelts" name="truck_interior[]" value="seatbelts" required>
                           </div>
                           <div>
                           <label for="pro-int-horn">Steering wheel horn for operation</label>
                           <input type="checkbox" id="pro-int-horn" name="truck_interior[]" value="horn_operation" required>
                           </div>
                           <div>
                           <label for="pro-int-parking-brake">Parking brake engages</label>
                           <input type="checkbox" id="pro-int-parking-brake" name="truck_interior[]" value="parking_brake" required>
                           </div>
                           <div>
                           <label for="pro-int-spare-tire">Spare tire properly inflated (vans only) and tools</label>
                           <input type="checkbox" id="pro-int-spare-tire" name="truck_interior[]" value="spare_tire_inflated" required>
                           </div>
                           <div>
                           <label for="pro-int-ac-heater">AC and heating are operational</label>
                           <input type="checkbox" id="pro-int-ac-heater" name="truck_interior[]" value="ac_heater" required>
                           </div>
                           <div>
                           <label for="pro-int-docs">
                              Truck registration, insurance card, accident documents in glove box
                           </label>
                           <input type="checkbox" id="pro-int-docs" name="truck_interior[]" value="registration_insurance" required>
                           </div>
                           <div>
                           <label for="pro-int-decals-int">Decals are present and in good condition</label>
                           <input type="checkbox" id="pro-int-decals-int" name="truck_interior[]" value="decals_interior" required>
                           </div>
                           <div>
                           <label for="pro-int-transponder">Toll transponder (if applicable)</label>
                           <input type="checkbox" id="pro-int-transponder" name="truck_interior[]" value="toll_transponder">
                           </div>
                           <div>
                           <label for="pro-int-fire-extinguisher">
                              Fire extinguisher present, charged, and inspection current
                           </label>
                           <input type="checkbox" id="pro-int-fire-extinguisher" name="truck_interior[]" value="fire_extinguisher" required>
                           </div>
                        </div>
                     </fieldset>  
                        
                     <fieldset>
                        <legend>Comments</legend>
                        <div class="form-control">
                           <textarea id="pro-inspection-comments" name="inspection_comments" rows="4" placeholder="Enter any additional comments or notes here..."></textarea>
                        </div>
                     </fieldset>

                     <div class="form-footer-note-wrapper">
                        <p>
                           <strong>Note:</strong> If any item is incorrect or inoperable, please correct. If repair cannot be
                           completed onsite and affects safe operation or Load Sensor, tag the vehicle “Out of Service” and
                           contact Element at <a href="tel:1-888-562-3646">1-888-562-3646</a> or
                           <a href="mailto:customercareus.fleet@elementcorp.com">customercareus.fleet@elementcorp.com</a>.
                        </p>
                     </div>
                     
                     <input type="hidden" name="id" value="">
                     <input type="hidden" name="form_type" value="pro">

                     <div class="button-wrapper inspection-form-actions">
                        <button type="submit" class="inspection-submit-btn" data-role="submit-label">Submit Inspection</button>
                        <button type="button" class="inspection-cancel-btn" data-action="cancel-form">Cancel</button>
                     </div>

                  </form>
               </div>
            </div>

            <!-- Rental Pickup Truck Inspection Form -->
            <div id="rental-inspection-modal" class="inspection-form-modal hidden" data-form-type="rental">
               <div class="inspection-form-modal-dialog">
                  <button type="button" class="inspection-form-close" data-action="close-modal" aria-label="Close inspection form">&times;</button>
                  <form id="rental-pickup-truck-inspection-form" class="inspection-form" data-form-type="rental">
                     <div class="form-title-wrapper">
                        <h2>Rental Pickup Truck Monthly Inspection Checklist</h2>
                     </div>
                     
                     <fieldset>
                        <legend>Inspection Info</legend>
                        <div class="form-control">
                           <label for="rental-inspection-date">Date:</label>
                           <input type="date" id="rental-inspection-date" name="inspection_date" required data-default-today="true">
                        </div>
                        <div class="form-control">
                           <label for="rental-inspected-by">Inspected by:</label>
                           <input type="text" id="rental-inspected-by" name="inspected_by" required>
                        </div>
                     </fieldset>
                  
                     <fieldset>
                        <legend>Truck Fluids</legend>
                        <div class="checkbox-group">
                           <div>
                           <label for="rental-fluids-topped">All fluids are topped off</label>
                           <input type="checkbox" id="rental-fluids-topped" name="truck_fluids[]" value="all_fluids_topped" required>
                           </div>
                        </div>
                     </fieldset>
                  
                     <fieldset>
                        <legend>Truck Exterior</legend>
                        <div class="checkbox-group">
                           <div>
                           <label for="rental-ext-license-plate">License plate present with up-to-date sticker</label>
                           <input type="checkbox" id="rental-ext-license-plate" name="truck_exterior[]" value="license_plate_present" required>
                           </div>
                           <div>
                           <label for="rental-ext-damage">Damage to the vehicle</label>
                           <input type="checkbox" id="rental-ext-damage" name="truck_exterior[]" value="damage_to_vehicle" required>
                           </div>
                           <div>
                           <label for="rental-ext-tires">Tires for appropriate inflation, tread wear and cuts</label>
                           <input type="checkbox" id="rental-ext-tires" name="truck_exterior[]" value="tires_inflation_and_wear" required>
                           </div>
                           <div>
                           <label for="rental-ext-lights">Headlights, tail lights and turn signals for cracked lens and operation</label>
                           <input type="checkbox" id="rental-ext-lights" name="truck_exterior[]" value="lights_operation_and_lens" required>
                           </div>
                           <div>
                           <label for="rental-ext-glass">Glass and mirrors for cracks and operation</label>
                           <input type="checkbox" id="rental-ext-glass" name="truck_exterior[]" value="glass_and_mirrors" required>
                           </div>
                           <div>
                           <label for="rental-ext-wipers">Windshield wipers for operation and wear</label>
                           <input type="checkbox" id="rental-ext-wipers" name="truck_exterior[]" value="wipers_operation_and_wear" required>
                           </div>
                           <div>
                           <label for="rental-ext-bed">Truck bed sides and tail gate for operation and broken hinges</label>
                           <input type="checkbox" id="rental-ext-bed" name="truck_exterior[]" value="bed_and_tailgate" required>
                           </div>
                           <div>
                           <label for="rental-ext-decals">Decals are present and in good condition</label>
                           <input type="checkbox" id="rental-ext-decals" name="truck_exterior[]" value="decals_condition" required>
                           </div>
                        </div>
                     </fieldset>
                  
                     <fieldset>
                        <legend>Truck Interior</legend>
                        <div class="checkbox-group">
                           <div>
                           <label for="rental-int-seatbelts">Seatbelts for operation, cuts or frays</label>
                           <input type="checkbox" id="rental-int-seatbelts" name="truck_interior[]" value="seatbelts" required>
                           </div>
                           <div>
                           <label for="rental-int-horn">Steering wheel horn for operation</label>
                           <input type="checkbox" id="rental-int-horn" name="truck_interior[]" value="horn_operation" required>
                           </div>
                           <div>
                           <label for="rental-int-parking-brake">Parking brake engages</label>
                           <input type="checkbox" id="rental-int-parking-brake" name="truck_interior[]" value="parking_brake" required>
                           </div>
                           <div>
                           <label for="rental-int-spare-tire">Spare tire properly inflated (vans only) and tools</label>
                           <input type="checkbox" id="rental-int-spare-tire" name="truck_interior[]" value="spare_tire_inflated" required>
                           </div>
                           <div>
                           <label for="rental-int-ac-heater">AC and heating are operational</label>
                           <input type="checkbox" id="rental-int-ac-heater" name="truck_interior[]" value="ac_heater" required>
                           </div>
                           <div>
                           <label for="rental-int-docs">
                              Truck registration, insurance card, accident documents in glove box
                           </label>
                           <input type="checkbox" id="rental-int-docs" name="truck_interior[]" value="registration_insurance" required>
                           </div>
                           <div>
                           <label for="rental-int-decals-int">Decals are present and in good condition</label>
                           <input type="checkbox" id="rental-int-decals-int" name="truck_interior[]" value="decals_interior" required>
                           </div>
                           <div>
                           <label for="rental-int-transponder">Toll transponder (if applicable)</label>
                           <input type="checkbox" id="rental-int-transponder" name="truck_interior[]" value="toll_transponder">
                           </div>
                           <div>
                           <label for="rental-int-fire-extinguisher">
                              Fire extinguisher present, charged, and inspection current
                           </label>
                           <input type="checkbox" id="rental-int-fire-extinguisher" name="truck_interior[]" value="fire_extinguisher" required>
                           </div>
                        </div>
                     </fieldset>  
                        
                     <fieldset>
                        <legend>Comments</legend>
                        <div class="form-control">
                           <textarea id="rental-inspection-comments" name="inspection_comments" rows="4" placeholder="Enter any additional comments or notes here..."></textarea>
                        </div>
                     </fieldset>

                     <div class="form-footer-note-wrapper">
                        <p>
                           <strong>Note:</strong> If any item is incorrect or inoperable, please correct. If repair cannot be
                           completed onsite and affects safe operation or Load Sensor, tag the vehicle “Out of Service” and
                           contact Element at <a href="tel:1-888-562-3646">1-888-562-3646</a> or
                           <a href="mailto:customercareus.fleet@elementcorp.com">customercareus.fleet@elementcorp.com</a>.
                        </p>
                     </div>
                     
                     <input type="hidden" name="id" value="">
                     <input type="hidden" name="form_type" value="rental">

                     <div class="button-wrapper inspection-form-actions">
                        <button type="submit" class="inspection-submit-btn" data-role="submit-label">Submit Inspection</button>
                        <button type="button" class="inspection-cancel-btn" data-action="cancel-form">Cancel</button>
                     </div>
   
                  </form>
               </div>
            </div>
            <div id="inspection-success-modal" class="inspection-success-modal hidden">
               <div class="inspection-success-modal-dialog">
                  <p class="inspection-success-title">Inspection Submitted</p>
                  <p id="inspection-success-message" class="inspection-success-message">Your inspection was saved successfully.</p>
                  <button type="button" class="inspection-success-close" data-action="close">Close</button>
               </div>
            </div>
            <div id="inspection-warning-modal" class="inspection-warning-modal hidden">
               <div class="inspection-warning-modal-dialog">
                  <p class="inspection-warning-title">Inspection Already Submitted</p>
                  <p id="inspection-warning-message" class="inspection-warning-message"></p>
                  <p class="inspection-warning-subtext">Select "Proceed Anyway" to start a new inspection or cancel to stay on the dashboard.</p>
                  <div class="inspection-warning-actions">
                     <button type="button" class="inspection-warning-cancel" data-action="warning-cancel">Cancel</button>
                     <button type="button" class="inspection-warning-proceed" data-action="warning-proceed">Proceed Anyway</button>
                  </div>
               </div>
            </div>
         </div>
      
         <!-- Equipment Management Section -->
         <div id="equipment-management" class="content-section-container" style="display: none; position: relative;">
            <h2>Manage Equipment</h2>
         
            <!-- TAB NAVIGATION -->
            <div class="tab-buttons-wrapper">
            <button class="tab-button tab-active" id="tab-active-equipment" onclick="showActiveEquipmentTab()">
               Active Equipment
            </button>
            <button class="tab-button" id="tab-deactivated-equipment" onclick="showDeactivatedEquipmentTab()">
               Deactivated Equipment
            </button>
            <button class="tab-button" id="add-equipment-button" onclick="showAddEquipmentForm()">Add New Equipment</button>
            </div>
         
            <!-- TAB CONTENT FOR ACTIVE EQUIPMENT -->
            <div id="active-equipment-container" class="tab-content">
            <div id="active-equipment-list" data-sortable="true">
               <!-- Active equipment items will be dynamically inserted here -->
            </div>
            </div>
         
            <!-- TAB CONTENT FOR DEACTIVATED EQUIPMENT -->
            <div id="deactivated-equipment-container" class="tab-content" style="display: none;">
            <h3>Deactivated Equipment</h3>
            <div id="deactivated-equipment-list">
               <!-- Deactivated equipment items will be dynamically inserted here -->
            </div>
            </div>

            <!-- Equipment Form for Adding/Editing -->
            <form id="equipment-form" style="display: none;">
               <div class="form-header">
                  <h3 id="form-title">Add Equipment</h3>
                  <button type="button" class="close-btn-form" onclick="cancelEquipmentForm()"><i class="fa-solid fa-rectangle-xmark"></i></button>
               </div>
               <input type="hidden" id="equipment-id" name="equipment_id">
               <div class="form-control">
                  <label for="unit-id">Unit ID:</label>
                  <input type="text" id="unit-id" name="unit_id" required>
               </div>
               <div class="form-control">
                  <label for="equipment-name">Equipment Name:</label>
                  <input type="text" id="equipment-name" name="equipment_name" required>
               </div>
               <div class="form-control">
                  <label for="manufacturer">Manufacturer:</label>
                  <input type="text" id="manufacturer" name="manufacturer">
               </div>
               <div class="form-control">
                  <label for="model">Model:</label>
                  <input type="text" id="model" name="model">
               </div>
               <div class="form-control">
                  <label for="image-url">Image URL:</label>
                  <input type="text" id="image-url" name="image_url">
               </div>
               <!-- Rental Rates Inputs -->
               <div class="form-control">
                  <label for="rental-rate-4h">Rental Rate (4 Hours):</label>
                  <input type="number" step="0.01" id="rental-rate-4h" name="rental_rate_4h">
               </div>
               <div class="form-control">
                  <label for="rental-rate-daily">Rental Rate (Daily):</label>
                  <input type="number" step="0.01" id="rental-rate-daily" name="rental_rate_daily">
               </div>
               <div class="form-control">
                  <label for="rental-rate-weekly">Rental Rate (Weekly):</label>
                  <input type="number" step="0.01" id="rental-rate-weekly" name="rental_rate_weekly">
               </div>
               <div class="form-control">
                  <label for="rental-rate-monthly">Rental Rate (Monthly):</label>
                  <input type="number" step="0.01" id="rental-rate-monthly" name="rental_rate_monthly">
               </div>
               <!-- End Rental Rates Inputs -->
               <div class="button-wrapper">
                  <button type="submit" id="save-equipment-button">Save</button>
                  <button type="button" onclick="cancelEquipmentForm()">Cancel</button>
               </div>
            </form>
         </div>
         <!-- End Equipment Management Section -->

         <!-- Modal for Yard Check Details -->
         <div id="modal-container" style="display: none;">
         <!-- Modal content will be dynamically inserted here -->
         </div>

      </main>

    <!-- Scroll-to-top button (initially hidden) -->
      <button id="scrollToTopButton" onclick="scrollToTop()">
         <i class="fa-solid fa-circle-arrow-up"></i>
      </button>
   </section>

  <footer>
    <div class="footer-wrapper">
      <div class="footer-col">
        <p class="site-version-text">v3.9.15</p>
      </div>
      <div class="footer-col">
        <p class="site-author-text">Designed by: Rudy Mims</p>
      </div>
    </div>
  </footer>

</body>
</html>



